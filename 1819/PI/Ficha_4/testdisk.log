

Mon Nov 12 17:30:43 2018
Command line: TestDisk

TestDisk 7.0, Data Recovery Utility, April 2015
Christophe GRENIER <grenier@cgsecurity.org>
http://www.cgsecurity.org
OS: Linux, kernel 4.15.0-38-generic (#41-Ubuntu SMP Wed Oct 10 10:59:38 UTC 2018) x86_64
Compiler: GCC 7.2
ext2fs lib: 1.44.1, ntfs lib: libntfs-3g, reiserfs lib: none, ewf lib: none, curses lib: ncurses 6.0
/dev/sda: LBA, LBA48 support
/dev/sda: size       500118192 sectors
/dev/sda: user_max   500118192 sectors
Warning: can't get size for Disk /dev/mapper/control - 0 B - 0 sectors, sector size=512
Hard disk list
Disk /dev/sda - 256 GB / 238 GiB - CHS 31130 255 63, sector size=512 - SAMSUNG MZNLN256HMHQ-000H1, S/N:S2Y2NX0J177586, FW:MAV21H3Q

Partition table type (auto): EFI GPT
Disk /dev/sda - 256 GB / 238 GiB - SAMSUNG MZNLN256HMHQ-000H1
Partition table type: Intel

Analyse Disk /dev/sda - 256 GB / 238 GiB - CHS 31130 255 63
Geometry from i386 MBR: head=255 sector=63
BAD_RS LBA=1 0
check_part_i386 1 type EE: no test
Current partition structure:
 1 P EFI GPT                  0   0  2 31130 233 63  500118191

Bad relative sector.
No partition is bootable

search_part()
Disk /dev/sda - 256 GB / 238 GiB - CHS 31130 255 63
FAT32 at 0/32/33
FAT1 : 7166-7678
FAT2 : 7679-8191
start_rootdir : 8192 root cluster : 2
Data : 8192-532479
sectors : 532480
cluster_size : 8
no_of_cluster : 65536 (2 - 65537)
fat_length 513 calculated 513
set_FAT_info: name from BS used

FAT32 at 0/32/33
     FAT32                    0  32 33    33  69 36     532480 [NO NAME]
     FAT32, blocksize=4096, 272 MB / 260 MiB
NTFS at 35/79/45
filesystem size           391111777
sectors_per_cluster       8
mft_lcn                   7913592
mftmirr_lcn               2
clusters_per_mft_record   -10
clusters_per_index_record 1
     HPFS - NTFS             35  79 45 24380 228  9  391111777
     NTFS, blocksize=4096, 200 GB / 186 GiB

recover_EXT2: s_block_group_nr=0/303, s_mnt_count=60/4294967295, s_blocks_per_group=32768, s_inodes_per_group=8192
recover_EXT2: s_blocksize=4096
recover_EXT2: s_blocks_count 9960704
recover_EXT2: part_size 79685632
     Linux                24380 242 55 29341  39 10   79685632
     ext4 blocksize=4096 Large_file Sparse_SB Recover, 40 GB / 37 GiB
NTFS at 29341/39/11
filesystem size           3575808
sectors_per_cluster       8
mft_lcn                   148992
mftmirr_lcn               2
clusters_per_mft_record   -10
clusters_per_index_record 1
     HPFS - NTFS          29341  39 11 29563 188  1    3575808
     NTFS, blocksize=4096, 1830 MB / 1746 MiB
NTFS at 29563/188/2
filesystem size           25163776
sectors_per_cluster       8
mft_lcn                   786432
mftmirr_lcn               2
clusters_per_mft_record   -10
clusters_per_index_record 1
     HPFS - NTFS          29563 188  2 31130  28  2   25163776
     NTFS, blocksize=4096, 12 GB / 11 GiB

Results
     FAT32                    0  32 33    33  69 36     532480 [NO NAME]
     FAT32, blocksize=4096, 272 MB / 260 MiB
     HPFS - NTFS             35  79 45 24380 242 54  391112704
     NTFS, blocksize=4096, 200 GB / 186 GiB
     Linux                24380 242 55 29341  39 10   79685632
     ext4 blocksize=4096 Large_file Sparse_SB Recover, 40 GB / 37 GiB
     HPFS - NTFS          29341  39 11 29563 188  1    3575808
     NTFS, blocksize=4096, 1830 MB / 1746 MiB
     HPFS - NTFS          29563 188  2 31130  28  2   25163776
     NTFS, blocksize=4096, 12 GB / 11 GiB

Hint for advanced users. dmsetup may be used if you prefer to avoid to rewrite the partition table for the moment:
echo "0 532480 linear /dev/sda 2048" | dmsetup create test0
echo "0 391112704 linear /dev/sda 567296" | dmsetup create test1
echo "0 79685632 linear /dev/sda 391680000" | dmsetup create test2
echo "0 3575808 linear /dev/sda 471365632" | dmsetup create test3
echo "0 25163776 linear /dev/sda 474941440" | dmsetup create test4

interface_write()
 
No partition found or selected for recovery

search_part()
Disk /dev/sda - 256 GB / 238 GiB - CHS 31130 255 63
FAT32 at 0/32/33
FAT1 : 7166-7678
FAT2 : 7679-8191
start_rootdir : 8192 root cluster : 2
Data : 8192-532479
sectors : 532480
cluster_size : 8
no_of_cluster : 65536 (2 - 65537)
fat_length 513 calculated 513
set_FAT_info: name from BS used

FAT32 at 0/32/33
     FAT32                    0  32 33    33  69 36     532480 [NO NAME]
     FAT32, blocksize=4096, 272 MB / 260 MiB
FAT32 at 0/32/39
FAT1 : 7166-7678
FAT2 : 7679-8191
start_rootdir : 8192 root cluster : 2
Data : 8192-532479
sectors : 532480
cluster_size : 8
no_of_cluster : 65536 (2 - 65537)
fat_length 513 calculated 513
FAT differs, FAT sectors=496-512/513
set_FAT_info: name from BS used

FAT32 at 0/32/39
     FAT32                    0  32 33    33  69 36     532480 [NO NAME]
     FAT32, blocksize=4096, 272 MB / 260 MiB
NTFS at 35/79/45
filesystem size           391111777
sectors_per_cluster       8
mft_lcn                   7913592
mftmirr_lcn               2
clusters_per_mft_record   -10
clusters_per_index_record 1
     HPFS - NTFS             35  79 45 24380 228  9  391111777
     NTFS, blocksize=4096, 200 GB / 186 GiB
Search for partition aborted

Results
   * FAT32                    0  32 33    33  69 36     532480 [NO NAME]
     FAT32, blocksize=4096, 272 MB / 260 MiB
   P HPFS - NTFS             35  79 45 24380 242 54  391112704
     NTFS, blocksize=4096, 200 GB / 186 GiB

Hint for advanced users. dmsetup may be used if you prefer to avoid to rewrite the partition table for the moment:
echo "0 532480 linear /dev/sda 2048" | dmsetup create test0
echo "0 391112704 linear /dev/sda 567296" | dmsetup create test1

interface_write()
 1 * FAT32                    0  32 33    33  69 36     532480 [NO NAME]
 2 P HPFS - NTFS             35  79 45 24380 242 54  391112704
simulate write!

write_mbr_i386: starting...
write_all_log_i386: starting...
No extended partition

Interface Advanced
Geometry from i386 MBR: head=255 sector=63
BAD_RS LBA=1 0
check_part_i386 1 type EE: no test
 1 P EFI GPT                  0   0  2 31130 233 63  500118191

Interface Advanced
Geometry from i386 MBR: head=255 sector=63
BAD_RS LBA=1 0
check_part_i386 1 type EE: no test
 1 P EFI GPT                  0   0  2 31130 233 63  500118191
Partition table type (auto): EFI GPT
Disk /dev/sda - 256 GB / 238 GiB - SAMSUNG MZNLN256HMHQ-000H1
Partition table type: None

Interface Advanced
   P Unknown                  0   0  1 31130 233 63  500118192
Change partition type:
   P FAT32                    0   0  1 31130 233 63  500118192

FAT: Can't list files, bad cluster size.
Directory /
Partition table type (auto): EFI GPT
Disk /dev/sda - 256 GB / 238 GiB - SAMSUNG MZNLN256HMHQ-000H1
Partition table type: None

Interface Advanced
   P Unknown                  0   0  1 31130 233 63  500118192
Change partition type:
   P FAT16                    0   0  1 31130 233 63  500118192

FAT: Can't list files, bad cluster size.
Directory /

Interface Advanced
   P Unknown                  0   0  1 31130 233 63  500118192
Change partition type:
   P Unknown                  0   0  1 31130 233 63  500118192

Interface Advanced
   P Unknown                  0   0  1 31130 233 63  500118192
Change partition type:
   P BeFS                     0   0  1 31130 233 63  500118192

Interface Advanced
   P Unknown                  0   0  1 31130 233 63  500118192
Change partition type:
   P exFAT                    0   0  1 31130 233 63  500118192
Not an exFAT boot sector.

   P exFAT                    0   0  1 31130 233 63  500118192
Can't open filesystem. Filesystem seems damaged.

Interface Advanced
   P Unknown                  0   0  1 31130 233 63  500118192
Change partition type:
   P exFAT                    0   0  1 31130 233 63  500118192
Not an exFAT boot sector.

   P exFAT                    0   0  1 31130 233 63  500118192
Can't open filesystem. Filesystem seems damaged.

Interface Advanced
   P Unknown                  0   0  1 31130 233 63  500118192
Change partition type:
   P ext3                     0   0  1 31130 233 63  500118192

Interface Advanced
   P Unknown                  0   0  1 31130 233 63  500118192
Change partition type:
   P ext4                     0   0  1 31130 233 63  500118192

Interface Advanced
   P Unknown                  0   0  1 31130 233 63  500118192
Change partition type:
   P FAT12                    0   0  1 31130 233 63  500118192

FAT: Can't list files, bad cluster size.
Directory /

Interface Advanced
   P Unknown                  0   0  1 31130 233 63  500118192
Change partition type:
   P FAT16                    0   0  1 31130 233 63  500118192

fat1x_boot_sector
   P FAT16                    0   0  1 31130 233 63  500118192
Boot sector
Bad

A valid FAT Boot sector must be present in order to access
any data; even if the partition is not bootable.

FAT: Can't list files, bad cluster size.
Directory /

Interface Advanced
   P Unknown                  0   0  1 31130 233 63  500118192
Change partition type:
   P FAT32                    0   0  1 31130 233 63  500118192

FAT: Can't list files, bad cluster size.
Directory /

Interface Advanced
   P Unknown                  0   0  1 31130 233 63  500118192
Change partition type:
   P FreeBSD                  0   0  1 31130 233 63  500118192

Interface Advanced
   P Unknown                  0   0  1 31130 233 63  500118192
Change partition type:
   P GFS2                     0   0  1 31130 233 63  500118192

Interface Advanced
   P Unknown                  0   0  1 31130 233 63  500118192
Change partition type:
   P HFS                      0   0  1 31130 233 63  500118192

Interface Advanced
   P Unknown                  0   0  1 31130 233 63  500118192
Change partition type:
   P HFS+                     0   0  1 31130 233 63  500118192

TestDisk exited normally.
